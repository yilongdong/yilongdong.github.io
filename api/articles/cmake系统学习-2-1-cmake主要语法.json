{"title":"cmake系统学习:2.1 cmake主要语法","uid":"a5750675f9146468dc57ef3297b265da","slug":"cmake系统学习-2-1-cmake主要语法","date":"2022-11-07T13:24:57.000Z","updated":"2022-11-08T03:01:26.314Z","comments":true,"path":"api/articles/cmake系统学习-2-1-cmake主要语法.json","keywords":null,"cover":null,"content":"<h2 id=\"if流程控制\"><a href=\"#if流程控制\" class=\"headerlink\" title=\"if流程控制\"></a>if流程控制</h2><span id=\"more\"></span>\n<!-- markdownlint-disable MD041 MD002-->\n\n<pre class=\"line-numbers language-cmake\" data-language=\"cmake\"><code class=\"language-cmake\"><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">elseif</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t\n<span class=\"token keyword\">endif</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"if-真假值\"><a href=\"#if-真假值\" class=\"headerlink\" title=\"if 真假值\"></a>if 真假值</h2><p><code>if(&lt;constant&gt;)</code></p>\n<p>0,<code>OFF</code>,<code>NO</code>,<code>FALSE</code>,<code>N</code>,<code>IGNORE</code>,<code>NOTFOUND</code>,空字符串,以<code>-NOTFOUND</code>结尾的字符串则为假</p>\n<p>未定义变量为空字符串</p>\n<p>环境变量总为假</p>\n<p><code>if(&lt;variable&gt;)</code></p>\n<p>环境变量总为假（if不支持的都是假的）</p>\n<p>宏参数不是变量，宏是个替换</p>\n<p><code>if(&lt;string&gt;)</code></p>\n<p>字符串的值是常量真则为真，例如<code>\"YES\"</code></p>\n<p>其他带引号的字符串都是假</p>\n<h2 id=\"If逻辑操作符\"><a href=\"#If逻辑操作符\" class=\"headerlink\" title=\"If逻辑操作符\"></a>If逻辑操作符</h2><p><code>NOT AND OR</code> + <code>()</code></p>\n<h2 id=\"if判断语句\"><a href=\"#if判断语句\" class=\"headerlink\" title=\"if判断语句\"></a>if判断语句</h2><h3 id=\"一元判断\"><a href=\"#一元判断\" class=\"headerlink\" title=\"一元判断\"></a>一元判断</h3><p><code>EXISTS</code> 判断是否存在</p>\n<p><code>COMMAND</code> 判断后面是不是cmake命令</p>\n<p> <code>DEFINED</code> 变量是否定义</p>\n<pre class=\"line-numbers language-cmake\" data-language=\"cmake\"><code class=\"language-cmake\"><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">DEFINED</span> &lt;name<span class=\"token punctuation\">&gt;</span>|<span class=\"token variable\">CACHE</span>{&lt;<span class=\"token property\">NAME</span><span class=\"token punctuation\">&gt;</span><span class=\"token punctuation\">}</span>|<span class=\"token variable\">ENV</span>{&lt;name<span class=\"token punctuation\">&gt;</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n判断是否定义了给定的变量/缓存变量/环境变量<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"二元判断\"><a href=\"#二元判断\" class=\"headerlink\" title=\"二元判断\"></a>二元判断</h3><p><code>EQUAL</code>,<code>LESS</code>,<code>LESS_EQUAL</code>,<code>GREATER</code>,<code>GREATER_EQUAL</code>(只能判断数字)</p>\n<p><code>STREQUAL</code>,<code>STRLESS</code>,STR<code>LESS_EQUAL</code>,STR<code>GREATER</code>,STR<code>GREATER_EQUAL</code>(也可以判断数字)</p>\n<p><code>VERSION_EQUAL</code>,<code>VERSION_LESS</code>,<code>VERSION_LESS_EQUAL</code>,<code>VERSION_GREATER</code>,<code>VERSION_GREATER_EQUAL</code></p>\n<p><code>IN_LIST</code></p>\n<p> <code>if(&lt;variable|string&gt; IN_LIST &lt;variable&gt;)</code></p>\n<p><code>MATCHES</code> 支持正则</p>\n<p><code>if(&lt;variable|string&gt; MATCHES regex)</code></p>\n<pre class=\"line-numbers language-cmake\" data-language=\"cmake\"><code class=\"language-cmake\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"abcd1234\"</span> <span class=\"token operator\">MATCHES</span> <span class=\"token string\">\"^[a-z]+$\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">message</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"match\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">message</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"not match\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endif</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#[[</span>\n^意思是开头\n$意思是结尾\n+一到多个\n]]<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"表达式语句\"><a href=\"#表达式语句\" class=\"headerlink\" title=\"表达式语句\"></a>表达式语句</h3>","text":"if流程控制 if() elseif() else() endif() if 真假值if(&lt;constant&gt;) 0,OFF,NO,FALSE,N,IGNORE,NOTFOUND,空字符串,以-NOTFOUND结尾的字符串则为假 未定义变量为空字符串 环境变量总为假 ...","link":"","photos":[],"count_time":{"symbolsCount":876,"symbolsTime":"1 mins."},"categories":[{"name":"笔记","slug":"笔记","count":18,"path":"api/categories/笔记.json"}],"tags":[{"name":"OpenGL","slug":"OpenGL","count":5,"path":"api/tags/OpenGL.json"},{"name":"ffmpeg","slug":"ffmpeg","count":5,"path":"api/tags/ffmpeg.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#if%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6\"><span class=\"toc-text\">if流程控制</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#if-%E7%9C%9F%E5%81%87%E5%80%BC\"><span class=\"toc-text\">if 真假值</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#If%E9%80%BB%E8%BE%91%E6%93%8D%E4%BD%9C%E7%AC%A6\"><span class=\"toc-text\">If逻辑操作符</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#if%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5\"><span class=\"toc-text\">if判断语句</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%80%E5%85%83%E5%88%A4%E6%96%AD\"><span class=\"toc-text\">一元判断</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E5%85%83%E5%88%A4%E6%96%AD\"><span class=\"toc-text\">二元判断</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E5%8F%A5\"><span class=\"toc-text\">表达式语句</span></a></li></ol></li></ol>","author":{"name":"YiLongDong","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"cmake系统学习:2.2 cmake主要语法 变量与缓存","uid":"c49836dd2f2f092644c9e09818c7b43e","slug":"cmake系统学习-2-2-cmake主要语法-变量与缓存","date":"2022-11-08T03:02:24.000Z","updated":"2022-11-08T03:35:25.773Z","comments":true,"path":"api/articles/cmake系统学习-2-2-cmake主要语法-变量与缓存.json","keywords":null,"cover":null,"text":"点击阅读前文前, 首页能看到的文章的简短描述 变量与缓存缓存变量基本语法写到缓存文件里了 只要缓存文件里有了就跳过，想要修改需要加FORCE set(&lt;variable&gt; &lt;value&gt;... CACHE &lt;type&gt; &lt;docstrin...","link":"","photos":[],"count_time":{"symbolsCount":627,"symbolsTime":"1 mins."},"categories":[{"name":"笔记","slug":"笔记","count":18,"path":"api/categories/笔记.json"}],"tags":[{"name":"make","slug":"make","count":1,"path":"api/tags/make.json"}],"author":{"name":"YiLongDong","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"cmake系统学习:2 常用功能","uid":"9f2413725e1494f52893c05d29ad7cbd","slug":"cmake系统学习-2-常用功能","date":"2022-11-07T12:41:22.000Z","updated":"2022-11-07T13:21:50.535Z","comments":true,"path":"api/articles/cmake系统学习-2-常用功能.json","keywords":null,"cover":null,"text":" cmake常用功能自动导入源文件和头文件 aux_source_directory aux_source_directory(\"./src\" SRCS) 把./src路径下所有文件存入SRCS变量中 file file(GLOB H_FILE \"${INCLUDE_PATH}/...","link":"","photos":[],"count_time":{"symbolsCount":658,"symbolsTime":"1 mins."},"categories":[{"name":"笔记","slug":"笔记","count":18,"path":"api/categories/笔记.json"}],"tags":[{"name":"cmake","slug":"cmake","count":3,"path":"api/tags/cmake.json"}],"author":{"name":"YiLongDong","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}