{"title":"cmake系统学习:2 常用功能","uid":"9f2413725e1494f52893c05d29ad7cbd","slug":"cmake系统学习-2-常用功能","date":"2022-11-07T12:41:22.000Z","updated":"2022-11-07T13:21:50.535Z","comments":true,"path":"api/articles/cmake系统学习-2-常用功能.json","keywords":null,"cover":null,"content":"<span id=\"more\"></span>\n<!-- markdownlint-disable MD041 MD002-->\n\n<h1 id=\"cmake常用功能\"><a href=\"#cmake常用功能\" class=\"headerlink\" title=\"cmake常用功能\"></a>cmake常用功能</h1><h2 id=\"自动导入源文件和头文件\"><a href=\"#自动导入源文件和头文件\" class=\"headerlink\" title=\"自动导入源文件和头文件\"></a>自动导入源文件和头文件</h2><ol>\n<li><code>aux_source_directory</code></li>\n</ol>\n<p><code>aux_source_directory(\"./src\" SRCS)</code></p>\n<p>把<code>./src</code>路径下所有文件存入<code>SRCS</code>变量中</p>\n<ol start=\"2\">\n<li><code>file</code></li>\n</ol>\n<p><code>file(GLOB H_FILE \"${INCLUDE_PATH}/xx/*.h*\")</code></p>\n<p><code>file(GLOB H_FILE_I \"${INCLUDE_PATH}/*.h\")</code></p>\n<h2 id=\"cmake分步编译\"><a href=\"#cmake分步编译\" class=\"headerlink\" title=\"cmake分步编译\"></a>cmake分步编译</h2><ol>\n<li><p>选择编译目标</p>\n<p><code>cmake --build . --target help</code></p>\n</li>\n<li><p>预处理</p>\n<p><code>cmake --build . --target xx.i</code></p>\n</li>\n<li><p>编译</p>\n<p><code>cmake --build . --target xx.s</code></p>\n</li>\n<li><p>汇编</p>\n<p><code>cmake --build . --target xx.o</code></p>\n</li>\n<li><p>链接</p>\n</li>\n<li><p>运行</p>\n<p>动态库加载路径</p>\n</li>\n<li><p>清理</p>\n<p><code>cmake --build . --target clean</code></p>\n</li>\n</ol>\n<h2 id=\"打印具体指令\"><a href=\"#打印具体指令\" class=\"headerlink\" title=\"打印具体指令\"></a>打印具体指令</h2><p><code>CMAKE_VERBOSE_MAKEFILE</code></p>\n<p><code>cmake --build . -v</code></p>\n<p>显示详细的生成日志，默认是<code>OFF</code></p>\n<p><code>set(CMAKE_VERBOSE_MAKEFILE ON)</code></p>\n<p>或者</p>\n<p><code>cmake --build . --verbose</code></p>\n<h2 id=\"设置输出目录\"><a href=\"#设置输出目录\" class=\"headerlink\" title=\"设置输出目录\"></a>设置输出目录</h2><ul>\n<li><p>库输出路径</p>\n<p><code>CMAKE_LIBRARY_OUTPUT_DIRECTORY</code></p>\n</li>\n<li><p>归档输出路径</p>\n<p><code>CMAKE_ARCHIVE_OUTPUT_DIRECTORY</code></p>\n</li>\n<li><p>执行程序输出路径</p>\n<p><code>CMAKE_RUNTIME_OUTPUT_DIRECTORY</code> (bin)</p>\n</li>\n<li></li>\n</ul>\n","text":" cmake常用功能自动导入源文件和头文件 aux_source_directory aux_source_directory(\"./src\" SRCS) 把./src路径下所有文件存入SRCS变量中 file file(GLOB H_FILE \"${INCLUDE_PATH}/...","link":"","photos":[],"count_time":{"symbolsCount":658,"symbolsTime":"1 mins."},"categories":[{"name":"笔记","slug":"笔记","count":18,"path":"api/categories/笔记.json"}],"tags":[{"name":"cmake","slug":"cmake","count":3,"path":"api/tags/cmake.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#cmake%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD\"><span class=\"toc-text\">cmake常用功能</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%87%AA%E5%8A%A8%E5%AF%BC%E5%85%A5%E6%BA%90%E6%96%87%E4%BB%B6%E5%92%8C%E5%A4%B4%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">自动导入源文件和头文件</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#cmake%E5%88%86%E6%AD%A5%E7%BC%96%E8%AF%91\"><span class=\"toc-text\">cmake分步编译</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%89%93%E5%8D%B0%E5%85%B7%E4%BD%93%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">打印具体指令</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E8%BE%93%E5%87%BA%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">设置输出目录</span></a></li></ol></li></ol>","author":{"name":"YiLongDong","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"cmake系统学习:2.1 cmake主要语法","uid":"a5750675f9146468dc57ef3297b265da","slug":"cmake系统学习-2-1-cmake主要语法","date":"2022-11-07T13:24:57.000Z","updated":"2022-11-08T03:01:26.314Z","comments":true,"path":"api/articles/cmake系统学习-2-1-cmake主要语法.json","keywords":null,"cover":null,"text":"if流程控制 if() elseif() else() endif() if 真假值if(&lt;constant&gt;) 0,OFF,NO,FALSE,N,IGNORE,NOTFOUND,空字符串,以-NOTFOUND结尾的字符串则为假 未定义变量为空字符串 环境变量总为假 ...","link":"","photos":[],"count_time":{"symbolsCount":876,"symbolsTime":"1 mins."},"categories":[{"name":"笔记","slug":"笔记","count":18,"path":"api/categories/笔记.json"}],"tags":[{"name":"OpenGL","slug":"OpenGL","count":5,"path":"api/tags/OpenGL.json"},{"name":"ffmpeg","slug":"ffmpeg","count":5,"path":"api/tags/ffmpeg.json"}],"author":{"name":"YiLongDong","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"cmake系统学习:1 注释,message,set,include","uid":"b8d7042e48b8c930a1e0538bec9f2d5d","slug":"cmake系统学习-1-注释与message和set","date":"2022-11-07T11:26:22.000Z","updated":"2022-11-07T12:40:05.179Z","comments":true,"path":"api/articles/cmake系统学习-1-注释与message和set.json","keywords":null,"cover":null,"text":"cmake基础 注释,message, set, include注释 行注释 # 注释 括号注释(3.0之后) #[[第一行注释 第二行注释]] message(\"arg1\\n\" #[[注释内容]] \"arg2\") messagemessage日志级别message(arg1 a...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"笔记","slug":"笔记","count":18,"path":"api/categories/笔记.json"}],"tags":[{"name":"cmake","slug":"cmake","count":3,"path":"api/tags/cmake.json"}],"author":{"name":"YiLongDong","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}